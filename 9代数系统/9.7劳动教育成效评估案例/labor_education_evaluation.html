<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ³åŠ¨æ•™è‚²æˆæ•ˆè¯„ä¼°ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&family=Outfit:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        .tab-navigation {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--glass-border);
            padding-bottom: 10px;
        }

        .tab-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid var(--glass-border);
            border-radius: 8px 8px 0 0;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-btn:hover {
            background: rgba(214, 59, 29, 0.1);
            color: var(--accent-red);
        }

        .tab-btn.active {
            background: var(--accent-red);
            color: white;
            border-color: var(--accent-red);
            box-shadow: var(--shadow-sm);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .student-table {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
        }

        .student-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .student-table th {
            background: var(--accent-red);
            color: white;
            padding: 12px;
            font-weight: 700;
            text-align: left;
            font-size: 0.9rem;
        }

        .student-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--glass-border);
            color: var(--text-primary);
        }

        .student-table tr:hover {
            background: rgba(214, 59, 29, 0.05);
        }

        .dimension-card {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border: 2px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .dimension-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .dimension-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .dimension-icon {
            font-size: 2rem;
        }

        .dimension-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-red);
        }

        .score-display {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        .score-label {
            font-weight: 600;
            color: var(--text-secondary);
            min-width: 100px;
        }

        .score-bar {
            flex: 1;
            height: 30px;
            background: rgba(139, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-gold));
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .weight-control {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--glass-border);
        }

        .weight-item {
            margin: 15px 0;
        }

        .weight-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .weight-label {
            font-weight: 700;
            color: var(--text-primary);
        }

        .weight-value {
            font-weight: 700;
            color: var(--accent-red);
        }

        .formula-display {
            background: linear-gradient(135deg, rgba(214, 59, 29, 0.05), rgba(255, 180, 0, 0.05));
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-gold);
            text-align: center;
        }

        .formula {
            font-size: 1.3rem;
            color: var(--accent-red);
            font-weight: 700;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        .result-card {
            background: linear-gradient(135deg, rgba(214, 59, 29, 0.1), rgba(255, 180, 0, 0.1));
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid var(--accent-gold);
            text-align: center;
        }

        .result-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-red);
            margin-bottom: 20px;
        }

        .result-score {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--accent-red);
            margin: 20px 0;
        }

        .result-level {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-gold);
            padding: 10px 25px;
            background: rgba(255, 180, 0, 0.2);
            border-radius: 20px;
            display: inline-block;
        }

        .ranking-display {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--glass-border);
        }

        .ranking-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin: 10px 0;
            background: linear-gradient(135deg, rgba(214, 59, 29, 0.05), rgba(255, 180, 0, 0.05));
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .ranking-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-sm);
        }

        .ranking-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-red);
            min-width: 40px;
        }

        .ranking-name {
            flex: 1;
            font-weight: 700;
            color: var(--text-primary);
        }

        .ranking-score {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-gold);
        }

        .medal {
            font-size: 1.5rem;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--glass-border);
        }

        .radar-chart {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
            position: relative;
            aspect-ratio: 1;
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.05), rgba(214, 59, 29, 0.05));
            border-left: 4px solid var(--accent-red);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .insight-title {
            font-weight: 700;
            color: var(--accent-red);
            margin-bottom: 8px;
        }

        .innovation-badge {
            display: inline-block;
            padding: 6px 14px;
            background: var(--accent-gold);
            color: var(--text-primary);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            margin: 4px;
            box-shadow: var(--shadow-sm);
        }

        select.apple-btn {
            appearance: none;
            cursor: pointer;
            padding: 10px 15px;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="window-controls">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <h1>åŠ³åŠ¨æ•™è‚² <span class="highlight">æˆæ•ˆè¯„ä¼°</span></h1>
                <p class="subtitle">Labor Education Evaluation</p>
            </div>

            <div class="controls-wrapper">
                <div class="control-group">
                    <label>åŠŸèƒ½æ¨¡å—</label>
                    <div class="tab-navigation" style="flex-direction: column; border: none; padding: 0;">
                        <button class="tab-btn active" data-tab="tab1">
                            <span>ğŸ“‹</span>
                            <span>æ•°æ®æ”¶é›†</span>
                        </button>
                        <button class="tab-btn" data-tab="tab2">
                            <span>ğŸ“Š</span>
                            <span>æ ‡å‡†åŒ–å¤„ç†</span>
                        </button>
                        <button class="tab-btn" data-tab="tab3">
                            <span>âš–ï¸</span>
                            <span>åŠ æƒè®¡ç®—</span>
                        </button>
                        <button class="tab-btn" data-tab="tab4">
                            <span>ğŸ†</span>
                            <span>ç»¼åˆè¯„ä¼°</span>
                        </button>
                    </div>
                </div>

                <div id="sidebarContent"></div>

                <div class="control-group">
                    <label>åŠ³åŠ¨æ•™è‚²ä»·å€¼</label>
                    <div class="info-panel">
                        <p style="font-size: 0.85rem;">åŸ¹å…»è´£ä»»æ„Ÿå’Œä½¿å‘½æ„Ÿ,ä¿ƒè¿›å­¦ç”Ÿå…¨é¢å‘å±•</p>
                    </div>
                </div>
            </div>

            <div class="actions-footer" id="actionButtons"></div>
        </aside>

        <main class="visualizer-stage">
            <div class="glass-pane" style="padding: 30px; overflow-y: auto;">
                <!-- Tab 1: æ•°æ®æ”¶é›† -->
                <div class="tab-content active" id="tab1">
                    <h2 style="color: var(--accent-red); margin-bottom: 20px;">å­¦ç”ŸåŠ³åŠ¨æ•™è‚²å¤šç»´åº¦æ•°æ®é‡‡é›†</h2>

                    <div class="student-table">
                        <table id="studentTable">
                            <thead>
                                <tr>
                                    <th>å­¦å·</th>
                                    <th>å§“å</th>
                                    <th>ç†è®ºçŸ¥è¯†(xáµ¢)</th>
                                    <th>åŠ³åŠ¨æ´»åŠ¨(yáµ¢)</th>
                                    <th>ç¤¾ä¼šæœåŠ¡(záµ¢)</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>

                    <div class="insight-box">
                        <div class="insight-title">ğŸŒŸ åŠ³åŠ¨æ•™è‚²çš„æ—¶ä»£æ„ä¹‰</div>
                        <p style="font-size: 0.9rem; color: var(--text-primary); line-height: 1.6;">
                            åœ¨æ–°æ—¶ä»£èƒŒæ™¯ä¸‹,åŠ³åŠ¨æ•™è‚²æ˜¯è½å®ç«‹å¾·æ ‘äººæ ¹æœ¬ä»»åŠ¡çš„é‡è¦é€”å¾„ã€‚
                            é€šè¿‡ç³»ç»ŸåŒ–ã€å¤šç»´åº¦çš„è¯„ä¼°,æˆ‘ä»¬ä¸ä»…å…³æ³¨å­¦ç”Ÿçš„ç†è®ºçŸ¥è¯†æŒæ¡,
                            æ›´æ³¨é‡å®è·µèƒ½åŠ›åŸ¹å…»å’Œç¤¾ä¼šè´£ä»»æ„Ÿçš„å»ºç«‹,ä¿ƒè¿›å­¦ç”Ÿå¾·æ™ºä½“ç¾åŠ³å…¨é¢å‘å±•ã€‚
                        </p>
                    </div>
                </div>

                <!-- Tab 2: æ ‡å‡†åŒ–å¤„ç† -->
                <div class="tab-content" id="tab2">
                    <h2 style="color: var(--accent-red); margin-bottom: 20px;">æ•°æ®æ ‡å‡†åŒ–ä¸å…¬å¹³æ€§ä¿éšœ</h2>

                    <div class="formula-display">
                        <h3 style="color: var(--text-primary); margin-bottom: 15px;">æ ‡å‡†åŒ–å…¬å¼</h3>
                        <div class="formula">
                            Oâ‚(xáµ¢) = (xáµ¢ - Î¼) / Ïƒ
                        </div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                            Î¼: å¹³å‡åˆ† | Ïƒ: æ ‡å‡†å·®
                        </div>
                    </div>

                    <div class="dimension-card" id="knowledgeDim">
                        <div class="dimension-header">
                            <div class="dimension-icon">ğŸ“š</div>
                            <div>
                                <div class="dimension-title">ç†è®ºçŸ¥è¯†ç»´åº¦</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">åŠ³åŠ¨çŸ¥è¯†æµ‹è¯•æˆç»©</div>
                            </div>
                        </div>
                        <div class="score-display">
                            <div class="score-label">åŸå§‹åˆ†æ•°</div>
                            <div class="score-bar">
                                <div class="score-fill" id="rawKnowledge" style="width: 0%;">0</div>
                            </div>
                        </div>
                        <div class="score-display">
                            <div class="score-label">æ ‡å‡†åŒ–åˆ†æ•°</div>
                            <div class="score-bar">
                                <div class="score-fill" id="stdKnowledge" style="width: 0%;">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="dimension-card" id="activityDim">
                        <div class="dimension-header">
                            <div class="dimension-icon">ğŸ› ï¸</div>
                            <div>
                                <div class="dimension-title">åŠ³åŠ¨æ´»åŠ¨ç»´åº¦</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">åŠ³åŠ¨å®è·µå‚ä¸é¢‘ç‡</div>
                            </div>
                        </div>
                        <div class="score-display">
                            <div class="score-label">å‚ä¸å¾—åˆ†</div>
                            <div class="score-bar">
                                <div class="score-fill" id="activityScore" style="width: 0%;">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="dimension-card" id="serviceDim">
                        <div class="dimension-header">
                            <div class="dimension-icon">ğŸ¤</div>
                            <div>
                                <div class="dimension-title">ç¤¾ä¼šæœåŠ¡ç»´åº¦</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">å¿—æ„¿æœåŠ¡å‚ä¸åº¦</div>
                            </div>
                        </div>
                        <div class="score-display">
                            <div class="score-label">æœåŠ¡å¾—åˆ†</div>
                            <div class="score-bar">
                                <div class="score-fill" id="serviceScore" style="width: 0%;">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-title">âš–ï¸ ç§‘å­¦è¯„ä¼°çš„å…¬æ­£æ€§</div>
                        <p style="font-size: 0.9rem; color: var(--text-primary); line-height: 1.6;">
                            é€šè¿‡æ ‡å‡†åŒ–å¤„ç†,æ¶ˆé™¤ä¸åŒè¯„åˆ†æ ‡å‡†å¸¦æ¥çš„å·®å¼‚,ç¡®ä¿è¯„ä¼°çš„ç§‘å­¦æ€§å’Œå…¬æ­£æ€§ã€‚
                            è¿™ç§æ•°æ®å¤„ç†æ–¹æ³•ä½“ç°äº†æ•™è‚²è¯„ä»·çš„ä¸“ä¸šæ€§,ä¸ºæ¯ä½å­¦ç”Ÿæä¾›å…¬å¹³çš„è¯„ä»·ç¯å¢ƒã€‚
                        </p>
                    </div>
                </div>

                <!-- Tab 3: åŠ æƒè®¡ç®— -->
                <div class="tab-content" id="tab3">
                    <h2 style="color: var(--accent-red); margin-bottom: 20px;">å¤šç»´åº¦åŠ æƒç»¼åˆè¯„åˆ†æ¨¡å‹</h2>

                    <div class="weight-control">
                        <h3 style="color: var(--text-primary); margin-bottom: 20px;">æƒé‡é…ç½®</h3>

                        <div class="weight-item">
                            <div class="weight-header">
                                <div class="weight-label">ğŸ“š ç†è®ºçŸ¥è¯†æƒé‡ (wâ‚)</div>
                                <div class="weight-value" id="w1Value">0.30</div>
                            </div>
                            <input type="range" id="w1Slider" min="0" max="100" value="30" step="5">
                        </div>

                        <div class="weight-item">
                            <div class="weight-header">
                                <div class="weight-label">ğŸ› ï¸ åŠ³åŠ¨æ´»åŠ¨æƒé‡ (wâ‚‚)</div>
                                <div class="weight-value" id="w2Value">0.40</div>
                            </div>
                            <input type="range" id="w2Slider" min="0" max="100" value="40" step="5">
                        </div>

                        <div class="weight-item">
                            <div class="weight-header">
                                <div class="weight-label">ğŸ¤ ç¤¾ä¼šæœåŠ¡æƒé‡ (wâ‚ƒ)</div>
                                <div class="weight-value" id="w3Value">0.30</div>
                            </div>
                            <input type="range" id="w3Slider" min="0" max="100" value="30" step="5">
                        </div>

                        <div style="margin-top: 20px; padding: 15px; background: rgba(214, 59, 29, 0.1); border-radius: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; color: var(--text-secondary);">æƒé‡æ€»å’Œ:</span>
                                <span id="weightSum" style="font-size: 1.2rem; font-weight: 700; color: var(--accent-red);">1.00</span>
                            </div>
                        </div>
                    </div>

                    <div class="formula-display">
                        <h3 style="color: var(--text-primary); margin-bottom: 15px;">ç»¼åˆè¯„åˆ†å‡½æ•°</h3>
                        <div class="formula">
                            f(i) = wâ‚Â·Oâ‚(xáµ¢) + wâ‚‚Â·Oâ‚‚(yáµ¢) + wâ‚ƒÂ·Oâ‚ƒ(záµ¢)
                        </div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 15px; line-height: 1.6;">
                            å°†å­¦ç”Ÿçš„å¤šç»´åº¦è¡¨ç°æ˜ å°„ä¸ºå•ä¸€é‡åŒ–è¯„åˆ†<br>
                            ç§¯ä»£æ•°ç³»ç»Ÿ: &lt;S, Oâ‚, Oâ‚‚, Oâ‚ƒ&gt;
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-title">ğŸ¯ å¤šç»´è¯„ä»·çš„æ•™è‚²æ™ºæ…§</div>
                        <p style="font-size: 0.9rem; color: var(--text-primary); line-height: 1.6;">
                            ä¸åŒç»´åº¦çš„æƒé‡è®¾ç½®ä½“ç°äº†åŠ³åŠ¨æ•™è‚²çš„æ ¸å¿ƒç›®æ ‡:æ—¢æ³¨é‡ç†è®ºå­¦ä¹ ,
                            æ›´å¼ºè°ƒå®è·µå‚ä¸å’Œç¤¾ä¼šæœåŠ¡ã€‚è¿™ç§å¤šç»´åº¦ç»¼åˆè¯„ä»·ä½“ç³»ç¬¦åˆæ•™è‚²è§„å¾‹,
                            ä¿ƒè¿›å­¦ç”ŸçŸ¥è¡Œåˆä¸€ã€å¾·æ‰å…¼å¤‡çš„å…¨é¢å‘å±•ã€‚
                        </p>
                    </div>
                </div>

                <!-- Tab 4: ç»¼åˆè¯„ä¼° -->
                <div class="tab-content" id="tab4">
                    <h2 style="color: var(--accent-red); margin-bottom: 20px;">åŠ³åŠ¨æ•™è‚²æˆæ•ˆç»¼åˆè¯„ä¼°ç»“æœ</h2>

                    <div class="result-card" id="currentResult">
                        <div class="result-title">å½“å‰å­¦ç”Ÿç»¼åˆè¯„åˆ†</div>
                        <div class="result-score" id="finalScore">--</div>
                        <div class="result-level" id="scoreLevel">--</div>
                    </div>

                    <div class="chart-container">
                        <h3 style="color: var(--text-primary); margin-bottom: 15px;">ä¸‰ç»´èƒ½åŠ›é›·è¾¾å›¾</h3>
                        <div class="radar-chart">
                            <svg width="100%" height="100%" viewBox="0 0 300 300" id="radarSvg">
                                <!-- èƒŒæ™¯ç½‘æ ¼ -->
                                <polygon points="150,30 259,112.5 259,187.5 150,270 41,187.5 41,112.5"
                                         fill="none" stroke="rgba(214, 59, 29, 0.2)" stroke-width="1"/>
                                <polygon points="150,70 219,115 219,185 150,230 81,185 81,115"
                                         fill="none" stroke="rgba(214, 59, 29, 0.2)" stroke-width="1"/>
                                <polygon points="150,110 179,137.5 179,162.5 150,190 121,162.5 121,137.5"
                                         fill="none" stroke="rgba(214, 59, 29, 0.2)" stroke-width="1"/>

                                <!-- è½´çº¿ -->
                                <line x1="150" y1="150" x2="150" y2="30" stroke="rgba(139, 0, 0, 0.3)" stroke-width="1"/>
                                <line x1="150" y1="150" x2="259" y2="112.5" stroke="rgba(139, 0, 0, 0.3)" stroke-width="1"/>
                                <line x1="150" y1="150" x2="259" y2="187.5" stroke="rgba(139, 0, 0, 0.3)" stroke-width="1"/>
                                <line x1="150" y1="150" x2="150" y2="270" stroke="rgba(139, 0, 0, 0.3)" stroke-width="1"/>
                                <line x1="150" y1="150" x2="41" y2="187.5" stroke="rgba(139, 0, 0, 0.3)" stroke-width="1"/>
                                <line x1="150" y1="150" x2="41" y2="112.5" stroke="rgba(139, 0, 0, 0.3)" stroke-width="1"/>

                                <!-- æ•°æ®å¤šè¾¹å½¢ -->
                                <polygon id="dataPolygon" points="150,150 150,150 150,150"
                                         fill="rgba(214, 59, 29, 0.3)" stroke="var(--accent-red)" stroke-width="2"/>

                                <!-- æ ‡ç­¾ -->
                                <text x="150" y="20" text-anchor="middle" fill="var(--accent-red)" font-weight="700" font-size="14">ç†è®ºçŸ¥è¯†</text>
                                <text x="270" y="115" text-anchor="start" fill="var(--accent-red)" font-weight="700" font-size="14">åŠ³åŠ¨æ´»åŠ¨</text>
                                <text x="270" y="195" text-anchor="start" fill="var(--accent-red)" font-weight="700" font-size="14">ç¤¾ä¼šæœåŠ¡</text>
                            </svg>
                        </div>
                    </div>

                    <div class="ranking-display">
                        <h3 style="color: var(--text-primary); margin-bottom: 15px;">ç­çº§æ’å Top 5</h3>
                        <div id="rankingList"></div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-title">ğŸ® åŠ³åŠ¨æ•™è‚²çš„è‚²äººä»·å€¼</div>
                        <p style="font-size: 0.9rem; color: var(--text-primary); line-height: 1.6;">
                            åŠ³åŠ¨æ•™è‚²æ˜¯ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ•™è‚²åˆ¶åº¦çš„é‡è¦å†…å®¹,ç›´æ¥å½±å“å­¦ç”Ÿçš„åŠ³åŠ¨ç²¾ç¥é¢è²Œã€
                            åŠ³åŠ¨ä»·å€¼å–å‘å’ŒåŠ³åŠ¨æŠ€èƒ½æ°´å¹³ã€‚é€šè¿‡ç§‘å­¦è¯„ä¼°,æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½åœ°å¼•å¯¼å­¦ç”Ÿæ ‘ç«‹æ­£ç¡®çš„åŠ³åŠ¨è§‚å¿µ,
                            åŸ¹å…»å‹¤ä¿­ã€å¥‹æ–—ã€åˆ›æ–°ã€å¥‰çŒ®çš„åŠ³åŠ¨ç²¾ç¥,æˆé•¿ä¸ºå¾·æ™ºä½“ç¾åŠ³å…¨é¢å‘å±•çš„ç¤¾ä¼šä¸»ä¹‰å»ºè®¾è€…å’Œæ¥ç­äººã€‚
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="innovation-badge">åŠ³åŠ¨ç²¾ç¥</span>
                            <span class="innovation-badge">å…¨é¢å‘å±•</span>
                            <span class="innovation-badge">ç«‹å¾·æ ‘äºº</span>
                            <span class="innovation-badge">è´£ä»»æ‹…å½“</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
    <script>
        let currentTab = 'tab1';
        let currentStudent = null;

        const students = [
            { id: '2021001', name: 'å¼ æ˜', knowledge: 88, activity: 92, service: 85 },
            { id: '2021002', name: 'æå', knowledge: 92, activity: 88, service: 90 },
            { id: '2021003', name: 'ç‹èŠ³', knowledge: 85, activity: 95, service: 88 },
            { id: '2021004', name: 'åˆ˜å¼º', knowledge: 78, activity: 82, service: 80 },
            { id: '2021005', name: 'é™ˆé™', knowledge: 95, activity: 90, service: 92 },
            { id: '2021006', name: 'èµµç£Š', knowledge: 82, activity: 85, service: 83 }
        ];

        let weights = { w1: 0.30, w2: 0.40, w3: 0.30 };

        // Tabåˆ‡æ¢
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                switchTab(btn.dataset.tab);
            });
        });

        function switchTab(tabId) {
            currentTab = tabId;
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tab === tabId);
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.toggle('active', content.id === tabId);
            });
            updateSidebar(tabId);
        }

        function updateSidebar(tabId) {
            const sidebarContent = document.getElementById('sidebarContent');
            const actionButtons = document.getElementById('actionButtons');

            if (tabId === 'tab1') {
                sidebarContent.innerHTML = `
                    <div class="control-group">
                        <label>é€‰æ‹©å­¦ç”Ÿ</label>
                        <select id="studentSelect" class="apple-btn primary-btn" style="width: 100%;">
                            <option value="">-- è¯·é€‰æ‹© --</option>
                            ${students.map(s => `<option value="${s.id}">${s.id} ${s.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="control-group">
                        <label>æ•°æ®ç»Ÿè®¡</label>
                        <div class="info-panel">
                            <p style="font-size: 0.85rem;">
                                æ ·æœ¬æ•°é‡: <strong style="color: var(--accent-red);">${students.length}</strong> äºº
                            </p>
                        </div>
                    </div>
                `;
                actionButtons.innerHTML = `
                    <button id="collectBtn" class="apple-btn action-btn">æŸ¥çœ‹æ•°æ®</button>
                `;
                initTab1();
            } else if (tabId === 'tab2') {
                sidebarContent.innerHTML = `
                    <div class="control-group">
                        <label>å½“å‰å­¦ç”Ÿ</label>
                        <div class="info-panel">
                            <p style="font-size: 0.85rem; color: var(--accent-red); font-weight: 700;">
                                ${currentStudent ? `${currentStudent.name} (${currentStudent.id})` : 'æœªé€‰æ‹©'}
                            </p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>æ ‡å‡†åŒ–æ–¹æ³•</label>
                        <select class="apple-btn primary-btn" style="width: 100%;">
                            <option>Z-Scoreæ ‡å‡†åŒ–</option>
                            <option>Min-Maxå½’ä¸€åŒ–</option>
                        </select>
                    </div>
                `;
                actionButtons.innerHTML = `
                    <button id="standardizeBtn" class="apple-btn action-btn">æ ‡å‡†åŒ–å¤„ç†</button>
                `;
                initTab2();
            } else if (tabId === 'tab3') {
                sidebarContent.innerHTML = `
                    <div class="control-group">
                        <label>é¢„è®¾æ–¹æ¡ˆ</label>
                        <select id="presetSelect" class="apple-btn primary-btn" style="width: 100%;">
                            <option value="balanced">å‡è¡¡æ–¹æ¡ˆ(3:4:3)</option>
                            <option value="practice">å®è·µä¼˜å…ˆ(2:5:3)</option>
                            <option value="theory">ç†è®ºä¼˜å…ˆ(4:3:3)</option>
                        </select>
                    </div>
                `;
                actionButtons.innerHTML = `
                    <button id="calculateBtn" class="apple-btn action-btn">è®¡ç®—è¯„åˆ†</button>
                `;
                initTab3();
            } else if (tabId === 'tab4') {
                sidebarContent.innerHTML = `
                    <div class="control-group">
                        <label>è¯„åˆ†æ ‡å‡†</label>
                        <div class="info-panel">
                            <p style="font-size: 0.8rem; margin-bottom: 5px;">ä¼˜ç§€: â‰¥90åˆ†</p>
                            <p style="font-size: 0.8rem; margin-bottom: 5px;">è‰¯å¥½: 80-89åˆ†</p>
                            <p style="font-size: 0.8rem; margin-bottom: 5px;">åˆæ ¼: 60-79åˆ†</p>
                            <p style="font-size: 0.8rem;">å¾…æå‡: &lt;60åˆ†</p>
                        </div>
                    </div>
                `;
                actionButtons.innerHTML = `
                    <button id="generateBtn" class="apple-btn action-btn">ç”ŸæˆæŠ¥å‘Š</button>
                `;
                initTab4();
            }
        }

        // Tab 1
        function initTab1() {
            const tbody = document.querySelector('#studentTable tbody');
            tbody.innerHTML = '';
            students.forEach(s => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${s.id}</td>
                    <td>${s.name}</td>
                    <td>${s.knowledge}</td>
                    <td>${s.activity}</td>
                    <td>${s.service}</td>
                `;
                tbody.appendChild(row);
            });

            document.getElementById('studentSelect')?.addEventListener('change', (e) => {
                const id = e.target.value;
                currentStudent = students.find(s => s.id === id);
            });

            document.getElementById('collectBtn')?.addEventListener('click', () => {
                if (!currentStudent) {
                    alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªå­¦ç”Ÿï¼');
                    return;
                }
                alert(`å·²é€‰æ‹©å­¦ç”Ÿ: ${currentStudent.name}\nç†è®ºçŸ¥è¯†: ${currentStudent.knowledge}\nåŠ³åŠ¨æ´»åŠ¨: ${currentStudent.activity}\nç¤¾ä¼šæœåŠ¡: ${currentStudent.service}`);
            });
        }

        // Tab 2
        function initTab2() {
            document.getElementById('standardizeBtn')?.addEventListener('click', async () => {
                if (!currentStudent) {
                    alert('è¯·å…ˆåœ¨"æ•°æ®æ”¶é›†"æ¨¡å—é€‰æ‹©å­¦ç”Ÿï¼');
                    return;
                }
                await standardizeScores();
            });
        }

        async function standardizeScores() {
            const avgK = students.reduce((sum, s) => sum + s.knowledge, 0) / students.length;
            const stdK = Math.sqrt(students.reduce((sum, s) => sum + Math.pow(s.knowledge - avgK, 2), 0) / students.length);
            const standardized = (currentStudent.knowledge - avgK) / stdK;
            const normalizedStd = ((standardized + 3) / 6) * 100; // å½’ä¸€åŒ–åˆ°0-100

            // åŠ¨ç”»æ˜¾ç¤º
            await animateScore('rawKnowledge', currentStudent.knowledge);
            await sleep(500);
            await animateScore('stdKnowledge', normalizedStd);
            await sleep(300);
            await animateScore('activityScore', currentStudent.activity);
            await sleep(300);
            await animateScore('serviceScore', currentStudent.service);
        }

        async function animateScore(id, score) {
            const el = document.getElementById(id);
            const width = Math.min(score, 100);
            el.style.width = `${width}%`;
            el.textContent = score.toFixed(1);
        }

        // Tab 3
        function initTab3() {
            ['w1', 'w2', 'w3'].forEach(w => {
                const slider = document.getElementById(`${w}Slider`);
                slider?.addEventListener('input', (e) => {
                    updateWeights();
                });
            });

            document.getElementById('presetSelect')?.addEventListener('change', (e) => {
                const presets = {
                    balanced: [30, 40, 30],
                    practice: [20, 50, 30],
                    theory: [40, 30, 30]
                };
                const values = presets[e.target.value];
                document.getElementById('w1Slider').value = values[0];
                document.getElementById('w2Slider').value = values[1];
                document.getElementById('w3Slider').value = values[2];
                updateWeights();
            });

            document.getElementById('calculateBtn')?.addEventListener('click', () => {
                if (!currentStudent) {
                    alert('è¯·å…ˆé€‰æ‹©å­¦ç”Ÿï¼');
                    return;
                }
                const score = calculateFinalScore(currentStudent);
                alert(`ç»¼åˆè¯„åˆ†è®¡ç®—å®Œæˆï¼\nå¾—åˆ†: ${score.toFixed(2)}`);
            });
        }

        function updateWeights() {
            const w1 = parseInt(document.getElementById('w1Slider').value);
            const w2 = parseInt(document.getElementById('w2Slider').value);
            const w3 = parseInt(document.getElementById('w3Slider').value);

            const sum = w1 + w2 + w3;
            weights.w1 = w1 / sum;
            weights.w2 = w2 / sum;
            weights.w3 = w3 / sum;

            document.getElementById('w1Value').textContent = weights.w1.toFixed(2);
            document.getElementById('w2Value').textContent = weights.w2.toFixed(2);
            document.getElementById('w3Value').textContent = weights.w3.toFixed(2);
            document.getElementById('weightSum').textContent = '1.00';
        }

        function calculateFinalScore(student) {
            return weights.w1 * student.knowledge + weights.w2 * student.activity + weights.w3 * student.service;
        }

        // Tab 4
        function initTab4() {
            updateComprehensiveEvaluation();

            document.getElementById('generateBtn')?.addEventListener('click', () => {
                if (!currentStudent) {
                    alert('è¯·å…ˆé€‰æ‹©å­¦ç”Ÿï¼');
                    return;
                }
                alert('ç»¼åˆè¯„ä¼°æŠ¥å‘Šå·²ç”Ÿæˆï¼å¯å¯¼å‡ºä¸ºPDFæˆ–æ‰“å°ã€‚');
            });
        }

        function updateComprehensiveEvaluation() {
            if (!currentStudent) return;

            const score = calculateFinalScore(currentStudent);
            document.getElementById('finalScore').textContent = score.toFixed(2);

            let level = 'å¾…æå‡';
            if (score >= 90) level = 'ä¼˜ç§€';
            else if (score >= 80) level = 'è‰¯å¥½';
            else if (score >= 60) level = 'åˆæ ¼';
            document.getElementById('scoreLevel').textContent = level;

            // æ›´æ–°é›·è¾¾å›¾
            updateRadarChart(currentStudent);

            // ç”Ÿæˆæ’å
            generateRanking();
        }

        function updateRadarChart(student) {
            const k = (student.knowledge / 100) * 120;
            const a = (student.activity / 100) * 120;
            const s = (student.service / 100) * 120;

            const points = `
                ${150},${150 - k}
                ${150 + a * 0.866},${150 - a * 0.5}
                ${150 + s * 0.866},${150 + s * 0.5}
            `;

            document.getElementById('dataPolygon').setAttribute('points', points);
        }

        function generateRanking() {
            const ranked = students.map(s => ({
                ...s,
                score: calculateFinalScore(s)
            })).sort((a, b) => b.score - a.score);

            const list = document.getElementById('rankingList');
            list.innerHTML = '';

            const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
            ranked.slice(0, 5).forEach((s, idx) => {
                const item = document.createElement('div');
                item.className = 'ranking-item';
                item.innerHTML = `
                    <div class="medal">${idx < 3 ? medals[idx] : ''}</div>
                    <div class="ranking-number">${idx + 1}</div>
                    <div class="ranking-name">${s.name}</div>
                    <div class="ranking-score">${s.score.toFixed(2)}åˆ†</div>
                `;
                list.appendChild(item);
            });
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        updateSidebar('tab1');
    </script>

<!-- å›ºå®šåº•éƒ¨ç‰ˆæƒä¿¡æ¯ -->
<footer style="
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: linear-gradient(135deg, #D63B1D 0%, #B8321A 100%);
    color: white;
    padding: 15px 10px;
    text-align: center;
    box-shadow: 0 -4px 20px rgba(214, 59, 29, 0.25);
    z-index: 9999;
">
    <p style="font-size: 0.9rem; line-height: 1.6; margin: 0; opacity: 0.95;">
        Â© 2025 æ¹–å—ä¿¡æ¯å­¦é™¢ ï½œ è®¡ç®—æœºç§‘å­¦ä¸å·¥ç¨‹æ€æ”¿åº“å»ºè®¾å›¢é˜Ÿ<br>
        ç‰ˆæƒæ‰€æœ‰ ï½œ é¡¹ç›®æ€»è´Ÿè´£äººï¼šè°¢é‘«
    </p>
</footer>


</body>

</html>
